[Шпаргалка по классам DRF](http://www.cdrf.co/)

Следующий этап работы с Views в **Django REST framework —** встроенные **view-классы**. У них множество преимуществ перед view-функциями:

-   возможность применять готовый код для решения стандартных задач;
-   наследование, которое позволяет повторно использовать уже написанный код.

Встроенные классы DRF можно условно разделить на низкоуровневые и высокоуровневые. **Низкоуровневые** содержат лишь базовую структуру класса, его скелет; разработчик сам должен описать работу класса; их применяют для решения нестандартных задач.

Типовые задачи (скажем, CRUD) удобнее решать с помощью **высокоуровневых** view-классов: в них уже заготовлены все инструменты для решения стандартных задач.

## Низкоуровневые view-классы в DRF

Начнём с низкоуровневого view-класса **APIView** из модуля `rest_framework.views`.

Если view-класс унаследован от класса `APIView`, то при получении GET-запроса в классе будет вызван метод `get()`, а при получении POST-запроса — метод `post()`. Такие методы описаны для всех типов запросов, но по умолчанию эти методы не выполняют никаких действий, их нужно описывать самостоятельно.

## **Generic Views: высокоуровневые view-классы**

Для типовых действий, например, для вывода списка объектов или для запроса объекта по id удобнее использовать **высокоуровневые** view-классы, «дженерики» (англ. _Generic Views_): в них уже реализованы все механизмы, необходимые для решения задачи.

Некоторые из **Generic Views** выполняют строго определённую задачу (например, обрабатывают только один тип запросов), другие — более универсальны и могут «переключаться» на разные задачи в зависимости от HTTP-метода, которым был отправлен запрос.

В дженериках задают всего два поля: `queryset` (набор записей, который будет обрабатываться в классе) и `serializer_class` (сериализатор, который будет преобразовывать объекты в формат JSON). В DRF все _Generic Views_ объединены в модуле `rest_framework.generics`. Полный список можно посмотреть в [документации DRF](https://www.django-rest-framework.org/api-guide/generic-views/).

## Специализированные Generic Views

В коде Kittygram view-классы унаследованы от **комбинированных** дженериков: они выполняют все операции CRUD. Для решения нашей задачи именно комбинированные дженерики подходят лучше всего. Но в некоторых случаях применение комбинированных view-классов будет избыточным или даже опасным.

Например, при создании API «только для чтения» (как знакомый вам [StarWarsAPI](https://swapi.dev/)) лучше подключить специализированный `ListAPIView`, который выполняет ровно одно действие: выводит список объектов в ответ на GET-запрос. Это лучше и с точки зрения безопасности, и с точки зрения отсутствия избыточного кода.

Есть ещё несколько специализированных view-классов DRF:

-   `RetrieveAPIView` — возвращает один объект (обрабатывает только GET-запросы);
-   `CreateAPIView` — создаёт новый объект (обрабатывает только POST-запросы);
-   `UpdateAPIView` — изменяет объект (обрабатывает только PUT- и PATCH-запросы);
-   `DestroyAPIView` — удаляет объект (обрабатывает только DELETE-запросы).

Эти классы описываются в коде точно так же, как и комбинированные view-классы модуля **rest_framework.generics**.