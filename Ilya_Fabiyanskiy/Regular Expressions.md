## Регулярные выражения

**Регулярные выражения** (англ. _regular expressions_ или _regExp_) — это самостоятельный язык, предназначенный для поиска строк и проверки их на соответствие какому-то шаблону.

Для поиска используется строка-образец (англ. _pattern_, по-русски её часто называют «шаблоном» или «маской»), определяющая правило поиска.

Символы в регулярном выражении могут:

-   служить спецсимволами шаблона (например, точка в шаблоне regExp означает «любой символ в искомой строке»),
-   указывать на символы, которые должны присутствовать в искомой строке (в email перед названием доменной зоны обязательно должна стоять точка, это один из признаков email).

Чтобы отличить «точку-спецсимвол regExp» от «точки — части искомой строки», во втором случае символ «экранируют» — ставят перед ним обратный слеш .

Вот недавно был случай: директор компании, разрабатывающей Kittygram, попросил секретаря найти email клиента. Имя клиента директор не помнит, а про email всего-то и известно, что тот был не длиннее 25 символов, состоял из латиницы и цифр и совершенно точно — на домене yandex, но на каком точно... «Нет, не помню, найдите все похожие!»

Секретарь выгружает список клиентов (а там пятнадцать тысяч строк) и идёт с этим списком и с печенькой к разработчикам.

Разработчики с благодарностью берут печеньку, этот страшный список и пишут регулярное выражение — шаблон, которому должна соответствовать искомая строка.

Шаблон для поиска адреса электронной почты в доменах yandex.ru, yandex.ua, yandex.by, yandex.com получился таким:

![](https://pictures.s3.yandex.net/resources/S9_04_09_1669591109.png)

-   `^` означает начало новой строки.
-   `[\w.\-]` — квадратные скобки объединяют набор возможных символов, которые могут находиться в начале строки. Среди этих символов могут быть:
    
    -   `\w` — любые словообразующие символы: буквы от a до z и от A до Z, цифры от 0 до 9, знак подчёркивания;
    -   `.` — символ «точка» (в квадратных скобках её не нужно экранировать);
    -   `\-` — символ «дефис» (экранирован, значит, это символ, который может встретиться в строке).
    
    Эти символы используются чаще всего в первой части адреса электронной почты.
    
-   `{1,25}` указывает на то, что строка, состоящая из символов, перечисленных в фигурных скобках, может быть длиной от 1 до 25 знаков.
-   Элемент `(…)` объединяет варианты доменов, которые могут быть в строке, а разделяющий их символ `|` соответствует оператору «или».
-   `$` означает окончание строки.

Разработчики честно заслужили печеньку: поиск выдал 18 адресов, и среди них директор легко нашёл нужный email. Happy end.

![](https://pictures.s3.yandex.net/resources/40_1_1623037145.png)

![](https://pictures.s3.yandex.net/resources/40_2_1623037151.png)

![](https://pictures.s3.yandex.net/resources/40_3_1623037156.png)

![](https://pictures.s3.yandex.net/resources/40_4_1623037159.png)

Специальные символы и примеры их использования:

![image](https://pictures.s3.yandex.net/resources/Untitled_5_1624619160.png)

Помимо специальных символов есть метасимволы, которые описывают группы символов в строке, например:

![image](https://pictures.s3.yandex.net/resources/Untitled_4_1624619163.png)

Полный перечень специальных символов и метасимволов можно посмотреть в [документации Python](https://docs.python.org/3.9/library/re.html).

Полезные регулярные выражения для Django можно подсмотреть в [шпаргалке](https://code.s3.yandex.net/backend-developer/learning-materials/%D0%A0%D0%B5%D0%B3%D1%83%D0%BB%D1%8F%D1%80%D0%BD%D1%8B%D0%B5%20%D0%B2%D1%8B%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F.pdf), а потренироваться в написании можно в онлайн-тренажёре, например вот тут: [https://regex101.com/](https://regex101.com/).

Синтаксис регулярных выражений стандартизирован и применяется не только в Python, но и в большинстве других языков программирования. В них стоит разобраться: они пригодятся в работе не раз и не два. Вы с ними обязательно встретитесь в ближайшем будущем — в работе над текущими заданиями и в дипломном проекте.