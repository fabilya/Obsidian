[[План изучения Docker]]
___
***Docker*** - сервис для запуска приложений в контейнерах 
В production используют Docker с надстройкой Kubernetes

>[!Почему стоит использовать Docker?]
>- Приложения запускаются в изолированной среде
>- Легко запускать на разных серверах
>- Все зависимости устанавливаются внутри контейнеров
>- Легко масштабировать путем увеличения количества контейнеров
>- Удобно использовать в процессе разработки приложений

***Компоненты Docker***
- `DOCKER CLIENT`  - запускается в командной строке, с помощью клиента можно подключаться к службе Docker
- `DOCKER DEAMON` (служба) - отвечает за все задачи по созданию контейнеров и по обработке запросов от клиентов
- `DOCKER HOST` - это компьютер на котором запущен Docker
- `CONTAINTER` - это самый маленький элемент в мире Docker. Приложение запускается внутри контейнера. Обычно 1 приложение - 1 контейнер (Single purpose - одна цель)
- `IMAGE` (образ) - основа для создания контейнеров, с 1 образа можно создать много разных контейнеров и все эти контейнеры будут независимы друг от друга, но основа (образ) будет одна и та же
- `REPOSITORY` (репозиторий) - в репозитории находятся различные версии образа 
- `REGISRTY` (реестр) - в реестре находятся различные репозитории. Самый популярный - Docker Hub

![[1695617955188.gif]]
___
***Как работают контейнеры***
![[Pasted image 20240509104628.png]]
>*Все контейнеры на одном хосте Docker, распределяют между собой все доступные ресурсы (память, процессор, сетевые ресурсы), а так же используют общее ядро Linux*

>*Если создать несколько контейнеров с одного образа, то у этих контейнеров будут определенные общие файлы. Эти общие файлы будут находиться на жёстком диске Docker - хоста только в одном месте.*

>*Докер автоматически останавливает контейнер, у которого нет активных процессов*
___

***Docker на MAC и WINDOWS (Создание виртуальной машины)*** 
![[Pasted image 20240509105224.png]]
> *Таким образом, Docker запускается в большинстве случаев, когда он используется в процессе разработки приложений.*

> *Когда используется для production - Docker engine устанавливается на Linux сервера. Нет необходимости создания отдельной виртуальной машины.*
___

> [!Что такое образы и их строение]
> ***Образ*** - это просто набор файлов, образ статичен. В этих файлах хранятся различные слои. Вы просто копируете слои определённого образа с удаленного компьютера на свой компьютер и дальше, Вы разворачиваете контейнеры на основании таких скопированных образов.
> 
> Каждый образ состоит из слоев, каждый слой FSLayers (от англ. File System Layers) - это набор файлов.
> У каждого образа есть базовый слой, и другие слои, которые добавляются к базовому слою.
> Слои в образах можно переиспользовать в других образах (может быть несколько разных образов, у которых некоторые слои пересекаются)
> 
> - Используя один образ, можно создать много контейнеров
> - Информация о процессе, который запустите в контейнере, находится в образе (одна из инструкций, которая находится как текстовая строка в образе)
> - Образы статичны, а контейнеры динамичны, контейнеры разворачиваются из образов
> - Все уже созданные слои - read-only (доступные только для чтения)
> - Образы можно перемещать и удалять
> - Образы хранятся в репозиториях

![[523.png]]

>[!Что такое репозиторий?]
>- Это набор различных версий, определенного образа
>- Разные версии помечаются разными тегами
>- Одна и та же версия образа может иметь несколько разных тегов (например 7, 7.4, 7.4.3 относится к одной версии образа)
>
>Тэг LATEST указывает на самую актуальную версию образа
>Тэг ALPINE указывает на самую маленькую по размеру версию образа




