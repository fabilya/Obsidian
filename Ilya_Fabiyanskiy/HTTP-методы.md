Любой API предназначен для получения доступа к ресурсам. К ресурсу всегда можно обратиться по URL.

HTTP-метод запроса определяет, что следует сделать:

-   **GET** получает ресурсы;
-   **POST** создаёт ресурс;
-   **PUT** заменяет существующий ресурс целиком;
-   **PATCH** частично изменяет существующий ресурс;
-   **DELETE** удаляет ресурс.

Реже применяют ещё два метода:

-   **HEAD** получает только заголовки ответа. HEAD похож на GET, но в ответе на этот запрос есть только заголовок, а тела ответа нет.
-   **OPTIONS** получает перечень HTTP-методов, которые поддерживает сервер.

### GET — это «получить», DELETE — это «удалить»

Сам по себе метод не определяет логику работы сервера. Можно запрограммировать API так, что при DELETE-запросе будет создаваться ресурс, а при GET — редактироваться.

Не следует так делать, если на то нет особо важных причин.

```
# Получить список пользователей
GET .../users

# Создать пользователя
POST .../users

# Удалить пользователя с id = 2
DELETE .../users/2 
```

Не стоит включать в название ресурса имя HTTP-метода:

```
# Так не надо
GET /get-users
POST /create-user 
```

API должен понимать по HTTP-методу, какие действия от него требуются; дублировать указания в имени ресурса не нужно.

## Идемпотентность и безопасность методов

У HTTP-методов есть две важные характеристики — безопасность и идемпотентность.

**Безопасность:** метод, который не изменяет ресурс, называется безопасным. Например, если в качестве ресурса рассматривать никнеймы пользователей, то сколько ни отправляй GET-запрос на получение никнейма конкретного пользователя — к изменению никнейма это не приведёт. Метод GET — безопасный.

Метод, который может изменить ресурс, в терминах архитектуры REST считается небезопасным. Такими методами могут быть PUT, PATCH, DELETE или POST.

**Идемпотентность** (от лат. _idem_ — «тот же самый» и _potens_ — «способный») — это свойство, заключающееся в том, что многократное выполнение этого метода по результату равно однократному. То есть, выполняя один и тот же запрос много-много раз, мы всегда будем получать один и тот же результат. Даже если сто раз отправить GET-запрос на получение никнейма конкретного пользователя, ответ не изменится; он будет таким же, как если бы его отправили всего лишь один раз. Метод GET — идемпотентный.

А вот метод POST работает иначе: обычно это создание новой записи, например добавление никнейма, независимо от того, есть уже аналогичный никнейм или нет. Если десять раз послать один и тот же POST-запрос, то будет добавлено десять идентичных никнеймов. Метод POST — неидемпотентный.